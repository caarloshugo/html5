<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>untitled</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="generator" content="Geany 0.21" />
	<script src="js/kinetic-v3.8.3.js"></script>
	<script src="js/jquery.js"></script>
	<script>
		window.onload = function() {
			var stage = new Kinetic.Stage("container-r", 700, 700);
			var layer = new Kinetic.Layer();
			var arcs  = draw();
			
			function draw() {
				var x = 350;
				var y = 300;
				
				var indice = new Kinetic.Shape({
					drawFunc: function(stroke){
						var context = this.getContext();
						context.save();
						context.beginPath();
						
						var startAngle = (0*Math.PI)/180;
						var endAngle   = (360*Math.PI)/180;
												
						context.arc(x, y, 70, startAngle, endAngle, false); 
						context.lineWidth   = 6;
						context.fillStyle   = '#2fb9ba';
						context.strokeStyle = "#e3e6e4";
						context.stroke();
						context.fill();
						context.closePath();
						context.restore();
					}
				});
				
				
				/* Variables Principales */
				var startAngle = (241*Math.PI)/180;
				var endAngle   = (0*Math.PI)/180;
				
				var var_p_1 = drawArc(x,y,150,startAngle, endAngle, '#2eb8b9');
				
				startAngle = (121*Math.PI)/180;
				endAngle   = (240*Math.PI)/180;
				
				var var_p_2 = drawArc(x,y,150,startAngle, endAngle, '#ebd06e');
				
				startAngle = (360.9*Math.PI)/180;
				endAngle   = (120*Math.PI)/180;
				
				var var_p_3 = drawArc(x,y,150,startAngle, endAngle, '#409f88');
			
				
				/* Variables Internas */
				// 120 - 6 = 114
				// 114 / 3 = 38
				
				/* A B C */
				startAngle = (322*Math.PI)/180;
				endAngle   = (358*Math.PI)/180;
				
				var var_i_a = drawArc(x,y,204,startAngle, endAngle, '#df6c4f');
				
				startAngle = (284*Math.PI)/180;
				endAngle   = (321*Math.PI)/180;
				
				var var_i_b = drawArc(x,y,204,startAngle, endAngle, '#ebd06e');
				
				startAngle = (244*Math.PI)/180;
				endAngle   = (283*Math.PI)/180;
				
				var var_i_c = drawArc(x,y,204,startAngle, endAngle, '#ebd06e');
				
				/* D E F */
				startAngle = (201*Math.PI)/180;
				endAngle   = (238*Math.PI)/180;
				
				var var_i_d = drawArc(x,y,204,startAngle, endAngle, '#666666');
				
				startAngle = (162*Math.PI)/180;
				endAngle   = (200*Math.PI)/180;
				
				var var_i_e = drawArc(x,y,204,startAngle, endAngle, '#de2b33');
				
				startAngle = (123*Math.PI)/180;
				endAngle   = (161*Math.PI)/180;
				
				var var_i_f = drawArc(x,y,204,startAngle, endAngle, '#df6c4f');

				
				/* G H I */
				startAngle = (80*Math.PI)/180;
				endAngle   = (118*Math.PI)/180;
				
				var var_i_g = drawArc(x,y,204,startAngle, endAngle, '#666666');
				
				startAngle = (41*Math.PI)/180;
				endAngle   = (79*Math.PI)/180;
				
				var var_i_h = drawArc(x,y,204,startAngle, endAngle, '#de2b33');
				
				startAngle = (3*Math.PI)/180;
				endAngle   = (40*Math.PI)/180;
				
				var var_i_i = drawArc(x,y,204,startAngle, endAngle, '#df6c4f');
				
				
				/* Indicadores */
				
				/* A */
				
				startAngle = (322*Math.PI)/180;
				endAngle   = (328.5*Math.PI)/180;
				
				var ind_5 = drawArc(x,y,254,startAngle, endAngle, '#666666');
				
				startAngle = (329.5*Math.PI)/180;
				endAngle   = (335.9*Math.PI)/180;
				
				var ind_4 = drawArc(x,y,254,startAngle, endAngle, '#666666');
				
				startAngle = (336.9*Math.PI)/180;
				endAngle   = (343.3*Math.PI)/180;
				
				var ind_3 = drawArc(x,y,254,startAngle, endAngle, '#666666');
				
				startAngle = (344.3*Math.PI)/180;
				endAngle   = (350.7*Math.PI)/180;
				
				var ind_2 = drawArc(x,y,254,startAngle, endAngle, '#666666');
				
				startAngle = (351.7*Math.PI)/180;
				endAngle   = (358*Math.PI)/180;
				
				var ind_1 = drawArc(x,y,254,startAngle, endAngle, '#666666');
				
				/* B 11.66 */
				
				startAngle = (284*Math.PI)/180;
				endAngle   = (295.66*Math.PI)/180;
				
				var ind_8 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (296.66*Math.PI)/180;
				endAngle   = (308.32*Math.PI)/180;
				
				var ind_7 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (309.32*Math.PI)/180;
				endAngle   = (321*Math.PI)/180;
				
				var ind_6 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				/* C 19.5 */
				
				startAngle = (244*Math.PI)/180;
				endAngle   = (263.5*Math.PI)/180;
				
				var ind_10 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (264.5*Math.PI)/180;
				endAngle   = (283*Math.PI)/180;
				
				var ind_9 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				
				/* D 8.5 */
				
				startAngle = (201*Math.PI)/180;
				endAngle   = (209.5*Math.PI)/180;
				
				var ind_14 = drawArc(x,y,254,startAngle, endAngle, '#de2b33');
				
				startAngle = (210.5*Math.PI)/180;
				endAngle   = (219*Math.PI)/180;
				
				var ind_13 = drawArc(x,y,254,startAngle, endAngle, '#de2b33');
				
				startAngle = (220*Math.PI)/180;
				endAngle   = (228.5*Math.PI)/180;
				
				var ind_12 = drawArc(x,y,254,startAngle, endAngle, '#de2b33');
				
				startAngle = (229.5*Math.PI)/180;
				endAngle   = (238*Math.PI)/180;
				
				var ind_11 = drawArc(x,y,254,startAngle, endAngle, '#de2b33');
				
				/* E 11.66 */
				
				startAngle = (162*Math.PI)/180;
				endAngle   = (173.66*Math.PI)/180;
				
				var ind_17 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (174.66*Math.PI)/180;
				endAngle   = (186.32*Math.PI)/180;
				
				var ind_16 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (187.32*Math.PI)/180;
				endAngle   = (200*Math.PI)/180;
				
				var ind_15 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				
				/* F 11.66 */
				
				startAngle = (123*Math.PI)/180;
				endAngle   = (134.66*Math.PI)/180;
				
				var ind_20 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (135.66*Math.PI)/180;
				endAngle   = (147.32*Math.PI)/180;
				
				var ind_19 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (148.32*Math.PI)/180;
				endAngle   = (161*Math.PI)/180;
				
				var ind_18 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				
				/* G 8.5 */
				startAngle = (80*Math.PI)/180;
				endAngle   = (88.5*Math.PI)/180;
				
				var ind_24 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (89.5*Math.PI)/180;
				endAngle   = (98*Math.PI)/180;
				
				var ind_23 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (99*Math.PI)/180;
				endAngle   = (107.5*Math.PI)/180;
				
				var ind_22 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (108.5*Math.PI)/180;
				endAngle   = (118*Math.PI)/180;
				
				var ind_21 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				/* H 11.66 */
				
				startAngle = (41*Math.PI)/180;
				endAngle   = (52.66*Math.PI)/180;
				
				var ind_27 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (53.66*Math.PI)/180;
				endAngle   = (65.32*Math.PI)/180;
				
				var ind_26 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (66.32*Math.PI)/180;
				endAngle   = (79*Math.PI)/180;
				
				var ind_25 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				/* I 11.66 */
				
				startAngle = (3*Math.PI)/180;
				endAngle   = (14.66*Math.PI)/180;
				
				var ind_30 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (15.66*Math.PI)/180;
				endAngle   = (27.32*Math.PI)/180;
				
				var ind_29 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');
				
				startAngle = (28.32*Math.PI)/180;
				endAngle   = (40*Math.PI)/180;
				
				var ind_28 = drawArc(x,y,254,startAngle, endAngle, '#df6c4f');

				/* Layers */
				layer.add(ind_30);
				layer.add(ind_29);
				layer.add(ind_28);
				
				layer.add(ind_27);
				layer.add(ind_26);
				layer.add(ind_25);
				
				layer.add(ind_21);
				layer.add(ind_22);
				layer.add(ind_23);
				layer.add(ind_24);
				
				layer.add(ind_18);
				layer.add(ind_19);
				layer.add(ind_20);
				
				layer.add(ind_15);
				layer.add(ind_16);
				layer.add(ind_17);
				
				layer.add(ind_11);
				layer.add(ind_12);
				layer.add(ind_13);
				layer.add(ind_14);
				
				layer.add(ind_9);
				layer.add(ind_10);
				
				layer.add(ind_6);
				layer.add(ind_7);
				layer.add(ind_8);
				
				layer.add(ind_1);
				layer.add(ind_2);
				layer.add(ind_3);
				layer.add(ind_4);
				layer.add(ind_5);
				
				layer.add(var_i_i);
				layer.add(var_i_h);
				layer.add(var_i_g);
				
				layer.add(var_i_f);
				layer.add(var_i_e);
				layer.add(var_i_d);
				
				layer.add(var_i_c);
				layer.add(var_i_b);
				layer.add(var_i_a);
				
				layer.add(var_p_1);
				layer.add(var_p_2);
				layer.add(var_p_3);
				
				layer.add(indice);
				stage.add(layer);
			}
			
			function drawArc(x, y, r, startAngle, endAngle, color) {
				var arc = new Kinetic.Shape({
					drawFunc: function(stroke){
						var context = this.getContext();
						context.save();
						context.beginPath();
						context.arc(x, y, r, startAngle, endAngle, false); 
						context.lineTo(x,y);
						context.lineWidth   = 2;
						context.strokeStyle = "#e3e6e4";
						context.stroke();
						
						
						if(stroke!=undefined) {
							context.fillStyle = stroke;
						} else {
							context.fillStyle = color;
						}
						
						context.fill();
						
						if(stroke!=undefined) {
							var array = new Array(x, y, r, startAngle, endAngle, stroke);
						} else {
							var array = new Array(x, y, r, startAngle, endAngle, color);
						}
						
						return array;
					},
					
					get_Fill : function() {
						return color;
					}
				});
				
				arc.on("mousedown", function(){ draggingShape = this; var mousePos = stage.getMousePosition(); draggingRectOffsetX = mousePos.x - arc._x; draggingRectOffsetY = mousePos.y - arc._y; });
				arc.on("mouseout", function(){ 
					document.body.style.cursor = "default";  
				});
				
				arc.on("mouseover", function(){ 
					console.log(arc.get_Fill());
					$("#color").val(arc.get_Fill());
					
					var array = arc.drawFunc("#ccc");
					var arc2   = drawArc(array[0],array[1],array[2],array[3],array[4],array[5]);
					
					layer.add(arc2);
					arc2.setZIndex(30);
					stage.add(layer);
					
					document.body.style.cursor = "pointer"; 
				});
				
				return arc;
			}
		};
	</script>
</head>

<body>
    <div id="container-r"></div>
    <input type="hidden" id="color" name="color" value=""/>
</body>

</html>
